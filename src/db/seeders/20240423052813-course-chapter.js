"use strict";

/** @type {import('sequelize-cli').Migration} */
module.exports = {
  async up(queryInterface, Sequelize) {
    const { v4: uuid } = await import("uuid");
    const { isTableHasRecords, getCourseIdByName, generateRandomCourseChapter } = await import("../../libs/seed.js");

    if (await isTableHasRecords("Course_chapters", queryInterface)) return;

    const courseChapters = [
      {
        id: uuid(),
        name: "Pengenalan Computational Thinking",
        duration: 30,
        order_index: 1,
        course_id: await getCourseIdByName("Computational Thinking"),
      },
      {
        id: uuid(),
        name: "Latihan Computational Thinking",
        duration: 60,
        order_index: 2,
        course_id: await getCourseIdByName("Computational Thinking"),
      },
      {
        id: uuid(),
        name: "Pengenalan Dasar Pemrograman C++",
        duration: 30,
        order_index: 1,
        course_id: await getCourseIdByName("Pemrograman Dasar dengan C++"),
      },
      {
        id: uuid(),
        name: "Latihan Dasar Pemrograman C++",
        duration: 60,
        order_index: 2,
        course_id: await getCourseIdByName("Pemrograman Dasar dengan C++"),
      },
      {
        id: uuid(),
        name: "Pengenalan Algoritma dan Pemrograman",
        duration: 30,
        order_index: 1,
        course_id: await getCourseIdByName("Struktur Data dan Algoritma"),
      },
      {
        id: uuid(),
        name: "Struktur Data",
        duration: 60,
        order_index: 2,
        course_id: await getCourseIdByName("Struktur Data dan Algoritma"),
      },
      {
        id: uuid(),
        name: "Latihan Menerapkan Algoritma dalam Pemrograman",
        duration: 30,
        order_index: 3,
        course_id: await getCourseIdByName("Struktur Data dan Algoritma"),
      },
      {
        id: uuid(),
        name: "Apa itu Sistem?",
        duration: 30,
        order_index: 1,
        course_id: await getCourseIdByName("Pengenalan Sistem Informasi"),
      },
      {
        id: uuid(),
        name: "Sistem Informasi",
        duration: 60,
        order_index: 2,
        course_id: await getCourseIdByName("Pengenalan Sistem Informasi"),
      },
      {
        id: uuid(),
        name: "Mengenal Jaringan Komputer",
        duration: 30,
        order_index: 1,
        course_id: await getCourseIdByName("Merancang Arsitektur Sistem Informasi"),
      },
      {
        id: uuid(),
        name: "Mengenal Arsitektur Komputer",
        duration: 30,
        order_index: 2,
        course_id: await getCourseIdByName("Merancang Arsitektur Sistem Informasi"),
      },
      {
        id: uuid(),
        name: "Merancang Arsitektur Sistem Informasi",
        duration: 60,
        order_index: 3,
        course_id: await getCourseIdByName("Merancang Arsitektur Sistem Informasi"),
      },
      {
        id: uuid(),
        name: "Sistem Informasi Manajemen",
        duration: 30,
        order_index: 1,
        course_id: await getCourseIdByName("Sistem Informasi Manajemen dalam Industri"),
      },
      {
        id: uuid(),
        name: "Sistem Informasi Manajemen dalam Industri",
        duration: 60,
        order_index: 2,
        course_id: await getCourseIdByName("Sistem Informasi Manajemen dalam Industri"),
      },
      {
        id: uuid(),
        name: "Pengenalan Data",
        duration: 30,
        order_index: 1,
        course_id: await getCourseIdByName("Pengenalan Machine Learning"),
      },
      {
        id: uuid(),
        name: "Supervised Learning",
        duration: 60,
        order_index: 2,
        course_id: await getCourseIdByName("Pengenalan Machine Learning"),
      },
      {
        id: uuid(),
        name: "Unsupervised Learning",
        duration: 60,
        order_index: 3,
        course_id: await getCourseIdByName("Pengenalan Machine Learning"),
      },
      {
        id: uuid(),
        name: "Dasar-dasar Machine Learning",
        duration: 45,
        order_index: 4,
        course_id: await getCourseIdByName("Pengenalan Machine Learning"),
      },
      {
        id: uuid(),
        name: "Neural Networks",
        duration: 45,
        order_index: 5,
        course_id: await getCourseIdByName("Pengenalan Machine Learning"),
      },
      {
        id: uuid(),
        name: "Pengolahan Data dengan Python",
        duration: 30,
        order_index: 1,
        course_id: await getCourseIdByName("Pemrograman Python untuk Machine Learning"),
      },
      {
        id: uuid(),
        name: "Penerapan Machine Learning dengan Python",
        duration: 60,
        order_index: 2,
        course_id: await getCourseIdByName("Pemrograman Python untuk Machine Learning"),
      },
      {
        id: uuid(),
        name: "Pengenalan TensorFlow",
        duration: 30,
        order_index: 1,
        course_id: await getCourseIdByName("Machine Learning dengan TensorFlow"),
      },
      {
        id: uuid(),
        name: "Penerapan TensorFlow",
        duration: 60,
        order_index: 2,
        course_id: await getCourseIdByName("Machine Learning dengan TensorFlow"),
      },
      {
        id: uuid(),
        name: "Pengantar Statistika",
        duration: 30,
        order_index: 1,
        course_id: await getCourseIdByName("Statistika Dasar"),
      },
      {
        id: uuid(),
        name: "Statistika Dasar",
        duration: 60,
        order_index: 2,
        course_id: await getCourseIdByName("Statistika Dasar"),
      },
      {
        id: uuid(),
        name: "Pengenalan Statistika Inferensial",
        duration: 30,
        order_index: 1,
        course_id: await getCourseIdByName("Statistika Inferensial"),
      },
      {
        id: uuid(),
        name: "Statistika Inferensial",
        duration: 60,
        order_index: 2,
        course_id: await getCourseIdByName("Statistika Inferensial"),
      },
      {
        id: uuid(),
        name: "Pengenalan Statistika Deskriptif",
        duration: 30,
        order_index: 1,
        course_id: await getCourseIdByName("Statistika Deskriptif"),
      },
      {
        id: uuid(),
        name: "Statistika Deskriptif",
        duration: 60,
        order_index: 2,
        course_id: await getCourseIdByName("Statistika Deskriptif"),
      },
      {
        id: uuid(),
        name: "Pengenalan Statistika Probabilitas",
        duration: 30,
        order_index: 1,
        course_id: await getCourseIdByName("Statistika Probabilitas"),
      },
      {
        id: uuid(),
        name: "Peluang dan Statistika Probabilitas",
        duration: 60,
        order_index: 2,
        course_id: await getCourseIdByName("Statistika Probabilitas"),
      },
      {
        id: uuid(),
        name: "Dasar-dasar HTML",
        duration: 100,
        order_index: 1,
        course_id: await getCourseIdByName("Pengenalan Web Development dengan HTML dan CSS"),
      },
      {
        id: uuid(),
        name: "HTML5",
        duration: 30,
        order_index: 2,
        course_id: await getCourseIdByName("Pengenalan Web Development dengan HTML dan CSS"),
      },
      {
        id: uuid(),
        name: "Semantik HTML",
        duration: 30,
        order_index: 3,
        course_id: await getCourseIdByName("Pengenalan Web Development dengan HTML dan CSS"),
      },
      {
        id: uuid(),
        name: "Dasar-dasar CSS",
        duration: 100,
        order_index: 4,
        course_id: await getCourseIdByName("Pengenalan Web Development dengan HTML dan CSS"),
      },
      {
        id: uuid(),
        name: "CSS Layout",
        duration: 30,
        order_index: 5,
        course_id: await getCourseIdByName("Pengenalan Web Development dengan HTML dan CSS"),
      },
      {
        id: uuid(),
        name: "CSS Animation",
        duration: 70,
        order_index: 6,
        course_id: await getCourseIdByName("Pengenalan Web Development dengan HTML dan CSS"),
      },
      {
        id: uuid(),
        name: "Pengenalan JavaScript",
        duration: 60,
        order_index: 1,
        course_id: await getCourseIdByName("Pemrograman Web dengan JavaScript"),
      },
      {
        id: uuid(),
        name: "JavaScript DOM",
        duration: 45,
        order_index: 2,
        course_id: await getCourseIdByName("Pemrograman Web dengan JavaScript"),
      },
      {
        id: uuid(),
        name: "JavaScript Events",
        duration: 30,
        order_index: 3,
        course_id: await getCourseIdByName("Pemrograman Web dengan JavaScript"),
      },
      {
        id: uuid(),
        name: "JavaScript AJAX",
        duration: 45,
        order_index: 4,
        course_id: await getCourseIdByName("Pemrograman Web dengan JavaScript"),
      },
      {
        id: uuid(),
        name: "JavaScript Fetch API",
        duration: 30,
        order_index: 5,
        course_id: await getCourseIdByName("Pemrograman Web dengan JavaScript"),
      },
      {
        id: uuid(),
        name: "Pengenalan React",
        duration: 60,
        order_index: 1,
        course_id: await getCourseIdByName("Pemrograman Web dengan React"),
      },
      {
        id: uuid(),
        name: "React Components",
        duration: 45,
        order_index: 2,
        course_id: await getCourseIdByName("Pemrograman Web dengan React"),
      },
      {
        id: uuid(),
        name: "React State Management",
        duration: 30,
        order_index: 3,
        course_id: await getCourseIdByName("Pemrograman Web dengan React"),
      },
      {
        id: uuid(),
        name: "React Router",
        duration: 45,
        order_index: 4,
        course_id: await getCourseIdByName("Pemrograman Web dengan React"),
      },
      {
        id: uuid(),
        name: "React Hooks",
        duration: 30,
        order_index: 5,
        course_id: await getCourseIdByName("Pemrograman Web dengan React"),
      },
      {
        id: uuid(),
        name: "Pengenalan Node.js",
        duration: 60,
        order_index: 1,
        course_id: await getCourseIdByName("Pemrograman Web dengan Node.js"),
      },
      {
        id: uuid(),
        name: "Node.js Modules",
        duration: 45,
        order_index: 2,
        course_id: await getCourseIdByName("Pemrograman Web dengan Node.js"),
      },
      {
        id: uuid(),
        name: "Node.js Express",
        duration: 30,
        order_index: 3,
        course_id: await getCourseIdByName("Pemrograman Web dengan Node.js"),
      },
      {
        id: uuid(),
        name: "Node.js REST API",
        duration: 45,
        order_index: 4,
        course_id: await getCourseIdByName("Pemrograman Web dengan Node.js"),
      },
      {
        id: uuid(),
        name: "Node.js Authentication",
        duration: 30,
        order_index: 5,
        course_id: await getCourseIdByName("Pemrograman Web dengan Node.js"),
      },
      {
        id: uuid(),
        name: "Pengantar Studi Kasus",
        duration: 30,
        order_index: 1,
        course_id: await getCourseIdByName("Studi Kasus: Membuat Aplikasi Pemesanan Tiket Kereta Api"),
      },
      {
        id: uuid(),
        name: "Persiapan Proyek",
        duration: 60,
        order_index: 2,
        course_id: await getCourseIdByName("Studi Kasus: Membuat Aplikasi Pemesanan Tiket Kereta Api"),
      },
      {
        id: uuid(),
        name: "Mendesain Database",
        duration: 60,
        order_index: 3,
        course_id: await getCourseIdByName("Studi Kasus: Membuat Aplikasi Pemesanan Tiket Kereta Api"),
      },
      {
        id: uuid(),
        name: "Membuat REST API",
        duration: 60,
        order_index: 4,
        course_id: await getCourseIdByName("Studi Kasus: Membuat Aplikasi Pemesanan Tiket Kereta Api"),
      },
      {
        id: uuid(),
        name: "Membuat Frontend",
        duration: 60,
        order_index: 5,
        course_id: await getCourseIdByName("Studi Kasus: Membuat Aplikasi Pemesanan Tiket Kereta Api"),
      },
      {
        id: uuid(),
        name: "Mengimplementasikan Fitur",
        duration: 60,
        order_index: 6,
        course_id: await getCourseIdByName("Studi Kasus: Membuat Aplikasi Pemesanan Tiket Kereta Api"),
      },
      {
        id: uuid(),
        name: "Mengimplementasikan Fitur Lanjutan",
        duration: 60,
        order_index: 7,
        course_id: await getCourseIdByName("Studi Kasus: Membuat Aplikasi Pemesanan Tiket Kereta Api"),
      },
      {
        id: uuid(),
        name: "Mengimplementasikan Fitur Terakhir",
        duration: 60,
        order_index: 8,
        course_id: await getCourseIdByName("Studi Kasus: Membuat Aplikasi Pemesanan Tiket Kereta Api"),
      },
      {
        id: uuid(),
        name: "Pengantar Cybersecurity",
        duration: 30,
        order_index: 1,
        course_id: await getCourseIdByName("Pengenalan Cybersecurity"),
      },
      {
        id: uuid(),
        name: "Keamanan Informasi",
        duration: 60,
        order_index: 2,
        course_id: await getCourseIdByName("Pengenalan Cybersecurity"),
      },
      {
        id: uuid(),
        name: "Pengenalan Kriptografi",
        duration: 30,
        order_index: 1,
        course_id: await getCourseIdByName("Pengenalan Kriptografi"),
      },
      {
        id: uuid(),
        name: "Kriptografi Modern",
        duration: 60,
        order_index: 2,
        course_id: await getCourseIdByName("Pengenalan Kriptografi"),
      },
      {
        id: uuid(),
        name: "Pengenalan Keamanan Jaringan",
        duration: 30,
        order_index: 1,
        course_id: await getCourseIdByName("Keamanan Jaringan"),
      },
      {
        id: uuid(),
        name: "Keamanan Jaringan Komputer",
        duration: 60,
        order_index: 2,
        course_id: await getCourseIdByName("Keamanan Jaringan"),
      },
      {
        id: uuid(),
        name: "Pengenalan Forensik Digital",
        duration: 30,
        order_index: 1,
        course_id: await getCourseIdByName("Pengenalan Digital Forensics"),
      },
      {
        id: uuid(),
        name: "Forensik Digital",
        duration: 60,
        order_index: 2,
        course_id: await getCourseIdByName("Pengenalan Digital Forensics"),
      },
      {
        id: uuid(),
        name: "Pengenalan Penetration Testing",
        duration: 30,
        order_index: 1,
        course_id: await getCourseIdByName("Penetration Testing"),
      },
      {
        id: uuid(),
        name: "Penetration Testing",
        duration: 60,
        order_index: 2,
        course_id: await getCourseIdByName("Penetration Testing"),
      },
      {
        id: uuid(),
        name: "Pengenalan Ethical Hacking",
        duration: 30,
        order_index: 1,
        course_id: await getCourseIdByName("Pengenalan Ethical Hacking"),
      },
      {
        id: uuid(),
        name: "Ethical Hacking",
        duration: 60,
        order_index: 2,
        course_id: await getCourseIdByName("Pengenalan Ethical Hacking"),
      },
    ];

    const seedCourseChapters = courseChapters.map((chapter) => ({
      ...generateRandomCourseChapter(),
      ...chapter,
    }));

    return queryInterface.bulkInsert("Course_chapters", seedCourseChapters, {});
  },

  async down(queryInterface, Sequelize) {
    // @ts-ignore
    return queryInterface.bulkDelete("Course_chapters", null, {});
  },
};
